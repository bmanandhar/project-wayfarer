{"ast":null,"code":"import _classCallCheck from \"/Users/bijayamanandhar/Desktop/project-wayfarer/wayfarer-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/bijayamanandhar/Desktop/project-wayfarer/wayfarer-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/bijayamanandhar/Desktop/project-wayfarer/wayfarer-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/bijayamanandhar/Desktop/project-wayfarer/wayfarer-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/bijayamanandhar/Desktop/project-wayfarer/wayfarer-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/bijayamanandhar/Desktop/project-wayfarer/wayfarer-front-end/src/components/App.js\";\nimport React, { Component } from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport './App.css';\nimport Header from './Header/Header.js';\nimport Landing from './Landing';\nimport Logout from './Header/Logout.js';\nimport About from './About'; //import CitiesList from './CitiesList';\n//import CityWithPosts from './CityWithPosts';\n\nimport Profile from './Profile';\nimport Axios from 'axios';\nvar baseURL = \"http://localhost:8001\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n\n    _this.componentDidMount = function () {\n      // retrieve cities info\n      Axios.get(\"\".concat(baseURL, \"/cities/all\")).then(function (res) {\n        _this.setState({\n          cities: res.data.cities\n        });\n      }).catch(function (err) {\n        console.log(err);\n      }); // check if token is stored\n\n      if (localStorage.token) {\n        _this.setState({\n          isLoggedIn: true\n        });\n      } else {\n        _this.setState({\n          isLoggedIn: false\n        });\n      }\n    };\n\n    _this.loggedIn = function () {\n      _this.setState({\n        isLoggedIn: true\n      });\n    };\n\n    _this.loggedOut = function (e) {\n      e.preventDefault();\n\n      _this.forcedLogOut();\n    };\n\n    _this.forcedLogOut = function () {\n      _this.setState({\n        isLoggedIn: false\n      });\n\n      localStorage.clear();\n    };\n\n    _this.state = {\n      isLoggedIn: false,\n      cities: []\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(Header, {\n        cities: this.state.cities,\n        isLoggedIn: this.state.isLoggedIn,\n        handleLogIn: this.loggedIn,\n        handleLogOut: this.loggedOut,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, this.state.isLoggedIn ? React.createElement(\"div\", {\n        className: \"landing-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"profile-div-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(Profile, {\n        cities: this.state.cities,\n        forcedLogOut: this.forcedLogOut,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }))) : React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      })), React.createElement(Route, {\n        path: \"/logout\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(Logout, {\n        forcedLogOut: this.forcedLogOut,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }))), React.createElement(Route, {\n        path: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, !this.state.isLoggedIn ? React.createElement(React.Fragment, null, React.createElement(Landing, {\n        cities: this.state.cities,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(About, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      })) : React.createElement(Redirect, {\n        to: \"/profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/bijayamanandhar/Desktop/project-wayfarer/wayfarer-front-end/src/components/App.js"],"names":["React","Component","Route","Switch","Redirect","Header","Landing","Logout","About","Profile","Axios","baseURL","App","componentDidMount","get","then","res","setState","cities","data","catch","err","console","log","localStorage","token","isLoggedIn","loggedIn","loggedOut","e","preventDefault","forcedLogOut","clear","state"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\n\nimport './App.css';\nimport Header from './Header/Header.js';\nimport Landing from './Landing';\nimport Logout from './Header/Logout.js';\nimport About from './About';\n\n//import CitiesList from './CitiesList';\n//import CityWithPosts from './CityWithPosts';\nimport Profile from './Profile';\nimport Axios from 'axios';\n\n\nconst baseURL = \"http://localhost:8001\"\n\nclass App extends Component {\n\n  constructor() {\n    super()\n    this.state = {\n      isLoggedIn: false,\n      cities: []\n    }\n  }\n\n  componentDidMount = () => {\n    // retrieve cities info\n    Axios.get(`${baseURL}/cities/all`)\n    .then(res=>{\n      this.setState({ cities: res.data.cities})\n    })\n    .catch(err=>{ console.log(err) })\n\n    // check if token is stored\n    if (localStorage.token) {\n      this.setState({ isLoggedIn: true })\n    } else {\n      this.setState({ isLoggedIn: false })\n    }\n  }\n\n  loggedIn = () => {\n    this.setState({ isLoggedIn: true })\n  }\n\n  loggedOut = (e) => {\n    e.preventDefault()\n    this.forcedLogOut()\n  }\n\n  forcedLogOut = () => {\n    this.setState({ isLoggedIn: false })\n    localStorage.clear();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Header cities={this.state.cities}\n          isLoggedIn={this.state.isLoggedIn} \n          handleLogIn={this.loggedIn} handleLogOut={this.loggedOut} />\n        <Switch>\n          <Route path='/profile'>\n          {\n          this.state.isLoggedIn ?\n            <div className=\"landing-page\">\n              <div className='profile-div-2'>\n                <Profile cities={this.state.cities} forcedLogOut={this.forcedLogOut}/>\n              </div> \n            </div> : <Redirect to=\"/\" />\n          }\n          </Route>  \n          <Route path='/logout' >\n            <React.Fragment>\n              <Logout forcedLogOut={this.forcedLogOut} />\n              <Redirect to=\"/\" />\n            </React.Fragment>\n          </Route>\n          <Route path='/'>\n          { \n          !this.state.isLoggedIn ? \n          <>\n            <Landing cities={this.state.cities} />\n            <About /> \n          </>  : \n            <Redirect to=\"/profile\" /> \n          }\n          </Route>    \n        </Switch>\n        \n        \n\n      </div>\n\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}